<div class="container">
  <h1>Add New Player</h1>
  <p *ngIf="franchiseName" class="subtitle">to {{ franchiseName }}</p>
  
  <a [routerLink]="['/franchises', franchiseId]" class="back-link">&larr; Back to Franchise</a>

  <div *ngIf="error" class="error">{{ error }}</div>

  <form [formGroup]="playerForm" (ngSubmit)="onSubmit()" class="form">
    <div class="form-group">
      <label for="firstName">First Name *</label>
      <input type="text" id="firstName" formControlName="firstName" class="form-control">
      <div *ngIf="playerForm.get('firstName')?.invalid && playerForm.get('firstName')?.touched" class="validation-error">
        First name is required
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name *</label>
      <input type="text" id="lastName" formControlName="lastName" class="form-control">
      <div *ngIf="playerForm.get('lastName')?.invalid && playerForm.get('lastName')?.touched" class="validation-error">
        Last name is required
      </div>
    </div>

    <div class="form-group">
      <label for="age">Age *</label>
      <input type="number" id="age" formControlName="age" class="form-control" min="18" max="50">
      <div *ngIf="playerForm.get('age')?.invalid && playerForm.get('age')?.touched" class="validation-error">
        <span *ngIf="playerForm.get('age')?.errors?.['required']">Age is required</span>
        <span *ngIf="playerForm.get('age')?.errors?.['min']">Age must be at least 18</span>
        <span *ngIf="playerForm.get('age')?.errors?.['max']">Age must be at most 50</span>
      </div>
    </div>

    <div class="form-group">
      <label for="position">Position *</label>
      <select id="position" formControlName="position" class="form-control">
        <option value="">Select position</option>
        <option *ngFor="let pos of positions" [value]="pos">{{ pos }}</option>
      </select>
      <div *ngIf="playerForm.get('position')?.invalid && playerForm.get('position')?.touched" class="validation-error">
        <span *ngIf="playerForm.get('position')?.errors?.['required']">Position is required</span>
      </div>
    </div>

    <div class="form-group">
      <label for="number">Jersey Number *</label>
      <input type="number" id="number" formControlName="number" class="form-control" min="0" max="99">
      <div *ngIf="playerForm.get('number')?.invalid && playerForm.get('number')?.touched" class="validation-error">
        <span *ngIf="playerForm.get('number')?.errors?.['required']">Jersey number is required</span>
        <span *ngIf="playerForm.get('number')?.errors?.['min']">Jersey number must be at least 0</span>
        <span *ngIf="playerForm.get('number')?.errors?.['max']">Jersey number must be at most 99</span>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="playerForm.invalid || loading">
        {{ loading ? 'Saving...' : 'Save' }}
      </button>
      <a [routerLink]="['/franchises', franchiseId]" class="btn btn-secondary">Cancel</a>
    </div>
  </form>
</div>
